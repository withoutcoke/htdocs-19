jQuery(document).ready(function(t){function e(){t.ajax({type:"POST",url:ajaxurl,data:{action:"mmp_get_shortcode_list",nonce:t("#mmp-shortcode-nonce").val(),search:t("#mmp-shortcode-search").val()},beforeSend:function(){t("#mmp-shortcode-insert").prop("disabled",!0)}}).done(function(o){t("#mmp-shortcode-list-container .mmp-shortcode-error").remove(),t("#mmp-shortcode-list").empty(),o.success?(t.each(o.shortcodes,function(o,e){t("#mmp-shortcode-list").append('<li data-id="'+e.id+'">'+e.name+"</li>")}),t("#mmp-shortcode-list li").first().click()):t("#mmp-shortcode-list-container").append('<p class="mmp-shortcode-error">'+o.message+"</p>")})}function m(){var o=t("#mmp-shortcode-list li.mmp-shortcode-row-active").first().data("id");if(o){var e="["+t("#mmp-shortcode-string").val()+' map="'+o+'"]';wp.media.editor.insert(e),t("#mmp-shortcode-modal").hide()}}t("#mmp-shortcode-button").click(function(){t("#mmp-shortcode-modal").show(),t("#mmp-shortcode-search").val("").focus(),e()}),t("#mmp-shortcode-search").keyup(function(o){(13!==o.keyCode?e:m)()}),t("#mmp-shortcode-insert").click(function(){m()}),t(".mmp-shortcode-modal, .mmp-shortcode-modal-close").click(function(o){o.target===this&&t("#mmp-shortcode-modal").hide()}),t("#mmp-shortcode-list").on("click","li",function(){t("#mmp-shortcode-list li.mmp-shortcode-row-active").removeClass("mmp-shortcode-row-active"),t(this).addClass("mmp-shortcode-row-active"),t("#mmp-shortcode-insert").prop("disabled",!1)}),t("#mmp-shortcode-add-map").click(function(){t("#mmp-shortcode-modal").hide()})});